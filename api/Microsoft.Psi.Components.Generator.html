<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Generator
   | Platform for Situated Intelligence </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Generator
   | Platform for Situated Intelligence ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../images/Psi.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="https://github.com/microsoft/psi">
                <img id="logo" class="svg" src="../images/Psi.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Psi.Components.Generator">
  
  
  <h1 id="Microsoft_Psi_Components_Generator" data-uid="Microsoft.Psi.Components.Generator" class="text-break">Class Generator
  </h1>
  <div class="markdown level0 summary"><p>Generates a sequence of messages at the pace dictated by the pipeline.
Use this base class when your generator has multiple output streams.
Use the static functions of the <a class="xref" href="Microsoft.Psi.Generators.html">Generators</a> class for the single-stream case.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">Generator</span></div>
      <div class="level2"><a class="xref" href="Microsoft.Psi.Components.Generator-1.html">Generator&lt;T&gt;</a></div>
      <div class="level2"><a class="xref" href="Microsoft.Psi.MixedReality.SceneUnderstanding.html">SceneUnderstanding</a></div>
      <div class="level2"><a class="xref" href="Microsoft.Psi.MixedReality.SpatialAnchorsSource.html">SpatialAnchorsSource</a></div>
      <div class="level2"><a class="xref" href="Microsoft.Psi.MixedReality.WinRT.GazeSensor.html">GazeSensor</a></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Microsoft.Psi.Components.html">Microsoft.Psi.Components</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Psi.dll</h6>
  <h5 id="Microsoft_Psi_Components_Generator_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class Generator : object, ISourceComponent</code></pre>
  </div>
  <h5 id="Microsoft_Psi_Components_Generator_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>When playing back data from offline sources, it is typically desirable that data not be dropped
even when resource constraints prevent the pipeline from running in real time.
Thus, source components that generate data from offline sources (e.g. from a file)
must be able to slow down production of data as requested by the hosting pipeline.
Since the runtime will not interfere with any threads it doesn’t own (by design),
reading and publishing offline data on a dedicated thread doesn't achieve the desired effect.
Rather, such source components must implement the Generator pattern, in which an internal emitter/receiver
pair is used to yield back to the runtime.
The following example shows how to implement a multi-stream generator:
/include ....\Test.Psi\GeneratorSample.cs.</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L47">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_Generator__ctor_" data-uid="Microsoft.Psi.Components.Generator.#ctor*"></a>
  <h4 id="Microsoft_Psi_Components_Generator__ctor_Microsoft_Psi_Pipeline_System_Boolean_System_String_" data-uid="Microsoft.Psi.Components.Generator.#ctor(Microsoft.Psi.Pipeline,System.Boolean,System.String)">Generator(Pipeline, Boolean, String)</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Microsoft.Psi.Components.Generator.html">Generator</a> class.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Generator(Pipeline pipeline, bool isInfiniteSource = false, string name = &quot;Generator&quot;)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.Pipeline.html">Pipeline</a></td>
        <td><span class="parametername">pipeline</span></td>
        <td><p>The pipeline to add the component to.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td><span class="parametername">isInfiniteSource</span></td>
        <td><p>If true, mark this Generator instance as representing an infinite source (e.g., a live-running sensor).
If false (default), it represents a finite source (e.g., Generating messages based on a finite file or IEnumerable).</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">name</span></td>
        <td><p>An optional name for the generator.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L124">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_Generator_GenerateNext_" data-uid="Microsoft.Psi.Components.Generator.GenerateNext*"></a>
  <h4 id="Microsoft_Psi_Components_Generator_GenerateNext_DateTime_" data-uid="Microsoft.Psi.Components.Generator.GenerateNext(DateTime)">GenerateNext(DateTime)</h4>
  <div class="markdown level1 summary"><p>Function that gets called to produce more data once the pipeline is ready to consume it.
Override to post data to the appropriate stream.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract DateTime GenerateNext(DateTime currentTime)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">DateTime</span></td>
        <td><span class="parametername">currentTime</span></td>
        <td><p>The originating time of the message that triggered the current call to GenerateNext.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">DateTime</span></td>
        <td><p>The originating time of the next message that will trigger the next call to GenerateNext.
The next call will occur only after this time (based on the pipeline clock).</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L59">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_Generator_Start_" data-uid="Microsoft.Psi.Components.Generator.Start*"></a>
  <h4 id="Microsoft_Psi_Components_Generator_Start_Action_DateTime__" data-uid="Microsoft.Psi.Components.Generator.Start(Action{DateTime})">Start(Action&lt;DateTime&gt;)</h4>
  <div class="markdown level1 summary"><p>Called by the pipeline to start the component once all the subscriptions are established.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Start(Action&lt;DateTime&gt; notifyCompletionTime)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Action</span>&lt;<span class="xref">DateTime</span>&gt;</td>
        <td><span class="parametername">notifyCompletionTime</span></td>
        <td><p>Delegate to call to notify the pipeline at what time the component will complete. Finite source components
should invoke this delegate, passing in the time at which the component completes after which it will post
no further messages. If this time is not yet known, the component may store a reference to the
<code data-dev-comment-type="paramref" class="paramref">notifyCompletionTime</code> delegate and call it once the completion time is known. Source
components that do not have the concept of &quot;completion&quot; must invoke <code data-dev-comment-type="paramref" class="paramref">notifyCompletionTime</code>
with a completion time of <see cref="!:DateTime.MaxValue"></see>. Similarly, reactive components that implement
the <a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a> due to the fact that they post messages from outside of a receiver method
should also notify with a completion time of <see cref="!:DateTime.MaxValue"></see>.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L92">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_Generator_Stop_" data-uid="Microsoft.Psi.Components.Generator.Stop*"></a>
  <h4 id="Microsoft_Psi_Components_Generator_Stop_DateTime_Action_" data-uid="Microsoft.Psi.Components.Generator.Stop(DateTime,Action)">Stop(DateTime, Action)</h4>
  <div class="markdown level1 summary"><p>Called by the pipeline when shutting down. The component should stop generating new messages once this
method completes. However, the component might still receive new messages (if it is subscribed to other
components) after this call and is expected to handle them.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Stop(DateTime finalOriginatingTime, Action notifyCompleted)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">DateTime</span></td>
        <td><span class="parametername">finalOriginatingTime</span></td>
        <td><p>The last originating time of any message which may be posted, after which the component should stop
posting non-reactive source messages.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span></td>
        <td><span class="parametername">notifyCompleted</span></td>
        <td><p>Delegate to call to notify the pipeline that the component has completed posting non-reactive source
messages. This delegate should be called once the component has posted its last non-reactive source
message, but only up to (and possibly including) <code data-dev-comment-type="paramref" class="paramref">finalOriginatingTime</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L113">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_Generator_ToString_" data-uid="Microsoft.Psi.Components.Generator.ToString*"></a>
  <h4 id="Microsoft_Psi_Components_Generator_ToString" data-uid="Microsoft.Psi.Components.Generator.ToString">ToString()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string ToString()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a>
  </div>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0___0__">Serializer.DeepClone&lt;T&gt;(T, ref T)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_Microsoft_Psi_IRecyclingPool___0__">Serializer.DeepClone&lt;T&gt;(T, IRecyclingPool&lt;T&gt;)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_">Serializer.DeepClone&lt;T&gt;(T)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/Generator.cs/#L26" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://go.microsoft.com/fwlink/?LinkId=521839">Privacy & Cookies</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=246338">Terms Of Use</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=506942">Trademarks</a> | © Microsoft<br>Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
