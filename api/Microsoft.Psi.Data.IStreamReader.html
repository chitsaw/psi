<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface IStreamReader
   | Platform for Situated Intelligence </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface IStreamReader
   | Platform for Situated Intelligence ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../images/Psi.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="https://github.com/microsoft/psi">
                <img id="logo" class="svg" src="../images/Psi.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Psi.Data.IStreamReader">
  
  
  <h1 id="Microsoft_Psi_Data_IStreamReader" data-uid="Microsoft.Psi.Data.IStreamReader" class="text-break">Interface IStreamReader
  </h1>
  <div class="markdown level0 summary"><p>Represents a reader of multiple streams of typed messages.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Microsoft.Psi.Data.html">Microsoft.Psi.Data</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Psi.dll</h6>
  <h5 id="Microsoft_Psi_Data_IStreamReader_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IStreamReader</code></pre>
  </div>
  <h5 id="Microsoft_Psi_Data_IStreamReader_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>This interface provides the basis for enabling \psi tools and APIs to operate with different kinds of stream stores.
In addition to this interface, a proper stream reader must provide a constructor accepting the Name and Path.
For integration with Platform for Situated Intelligence Studio, implementations should include a class-level StreamReaderAttribute.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L34">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_AvailableStreams_" data-uid="Microsoft.Psi.Data.IStreamReader.AvailableStreams*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_AvailableStreams" data-uid="Microsoft.Psi.Data.IStreamReader.AvailableStreams">AvailableStreams</h4>
  <div class="markdown level1 summary"><p>Gets the set of streams in this store.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEnumerable&lt;IStreamMetadata&gt; AvailableStreams { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">IEnumerable</span>&lt;<a class="xref" href="Microsoft.Psi.IStreamMetadata.html">IStreamMetadata</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L39">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_MessageCreationTimeInterval_" data-uid="Microsoft.Psi.Data.IStreamReader.MessageCreationTimeInterval*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_MessageCreationTimeInterval" data-uid="Microsoft.Psi.Data.IStreamReader.MessageCreationTimeInterval">MessageCreationTimeInterval</h4>
  <div class="markdown level1 summary"><p>Gets the interval between the creation times of the first and last messages written to this store, across all streams.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">TimeInterval MessageCreationTimeInterval { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.TimeInterval.html">TimeInterval</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L44">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_MessageOriginatingTimeInterval_" data-uid="Microsoft.Psi.Data.IStreamReader.MessageOriginatingTimeInterval*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_MessageOriginatingTimeInterval" data-uid="Microsoft.Psi.Data.IStreamReader.MessageOriginatingTimeInterval">MessageOriginatingTimeInterval</h4>
  <div class="markdown level1 summary"><p>Gets the interval between the originating times of the first and last messages written to this store, across all streams.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">TimeInterval MessageOriginatingTimeInterval { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.TimeInterval.html">TimeInterval</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L24">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_Name_" data-uid="Microsoft.Psi.Data.IStreamReader.Name*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_Name" data-uid="Microsoft.Psi.Data.IStreamReader.Name">Name</h4>
  <div class="markdown level1 summary"><p>Gets the name of the application that generated the persisted files, or the root name of the files.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">string Name { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L29">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_Path_" data-uid="Microsoft.Psi.Data.IStreamReader.Path*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_Path" data-uid="Microsoft.Psi.Data.IStreamReader.Path">Path</h4>
  <div class="markdown level1 summary"><p>Gets the directory in which the main persisted file resides.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">string Path { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L54">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_Size_" data-uid="Microsoft.Psi.Data.IStreamReader.Size*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_Size" data-uid="Microsoft.Psi.Data.IStreamReader.Size">Size</h4>
  <div class="markdown level1 summary"><p>Gets the size of data accessed by the stream reader (in bytes), if known. Otherwise null.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">long? Size { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<span class="xref">System.Int64</span>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L59">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_StreamCount_" data-uid="Microsoft.Psi.Data.IStreamReader.StreamCount*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_StreamCount" data-uid="Microsoft.Psi.Data.IStreamReader.StreamCount">StreamCount</h4>
  <div class="markdown level1 summary"><p>Gets the number of streams, if known. Otherwise null.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int? StreamCount { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<span class="xref">System.Int32</span>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L49">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_StreamTimeInterval_" data-uid="Microsoft.Psi.Data.IStreamReader.StreamTimeInterval*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_StreamTimeInterval" data-uid="Microsoft.Psi.Data.IStreamReader.StreamTimeInterval">StreamTimeInterval</h4>
  <div class="markdown level1 summary"><p>Gets the interval between the opened and closed times, across all streams.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">TimeInterval StreamTimeInterval { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.TimeInterval.html">TimeInterval</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L156">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_ContainsStream_" data-uid="Microsoft.Psi.Data.IStreamReader.ContainsStream*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_ContainsStream_System_String_" data-uid="Microsoft.Psi.Data.IStreamReader.ContainsStream(System.String)">ContainsStream(String)</h4>
  <div class="markdown level1 summary"><p>Checks whether the specified stream exists in this store.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool ContainsStream(string name)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">name</span></td>
        <td><p>The name of the stream to look for.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p>True if a stream with the specified name exists, false otherwise.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L141">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_GetStreamMetadata_" data-uid="Microsoft.Psi.Data.IStreamReader.GetStreamMetadata*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_GetStreamMetadata_System_String_" data-uid="Microsoft.Psi.Data.IStreamReader.GetStreamMetadata(System.String)">GetStreamMetadata(String)</h4>
  <div class="markdown level1 summary"><p>Returns a metadata descriptor for the specified stream.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IStreamMetadata GetStreamMetadata(string streamName)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">streamName</span></td>
        <td><p>The name of the stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.IStreamMetadata.html">IStreamMetadata</a></td>
        <td><p>The metadata describing the specified stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L149">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_GetSupplementalMetadata_" data-uid="Microsoft.Psi.Data.IStreamReader.GetSupplementalMetadata*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_GetSupplementalMetadata__1_System_String_" data-uid="Microsoft.Psi.Data.IStreamReader.GetSupplementalMetadata``1(System.String)">GetSupplementalMetadata&lt;T&gt;(String)</h4>
  <div class="markdown level1 summary"><p>Returns the supplemental metadata for a specified stream.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">T GetSupplementalMetadata&lt;T&gt;(string streamName)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">streamName</span></td>
        <td><p>The name of the stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">T</span></td>
        <td><p>The metadata associated with the stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">T</span></td>
        <td><p>Type of supplemental metadata.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L134">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_IsLive_" data-uid="Microsoft.Psi.Data.IStreamReader.IsLive*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_IsLive" data-uid="Microsoft.Psi.Data.IStreamReader.IsLive">IsLive()</h4>
  <div class="markdown level1 summary"><p>Indicates whether this store is still being written to by an active writer.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool IsLive()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p>True if an active writer is still writing to this store, false otherwise.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L128">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_MoveNext_" data-uid="Microsoft.Psi.Data.IStreamReader.MoveNext*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_MoveNext_Microsoft_Psi_Envelope__" data-uid="Microsoft.Psi.Data.IStreamReader.MoveNext(Microsoft.Psi.Envelope@)">MoveNext(out Envelope)</h4>
  <div class="markdown level1 summary"><p>Positions the reader to the next message from any one of the opened streams.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool MoveNext(out Envelope envelope)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.Envelope.html">Envelope</a></td>
        <td><span class="parametername">envelope</span></td>
        <td><p>The envelope associated with the message read.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p>True if there are more messages, false if no more messages are available.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L65">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_OpenNew_" data-uid="Microsoft.Psi.Data.IStreamReader.OpenNew*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_OpenNew" data-uid="Microsoft.Psi.Data.IStreamReader.OpenNew">OpenNew()</h4>
  <div class="markdown level1 summary"><p>Creates a new reader for the same store, without reloading internal state (index, metadata, ...).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IStreamReader OpenNew()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.Data.IStreamReader.html">IStreamReader</a></td>
        <td><p>A new reader for the same store.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L86">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_OpenStream_" data-uid="Microsoft.Psi.Data.IStreamReader.OpenStream*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_OpenStream__1_System_String_Action___0_Microsoft_Psi_Envelope__Func___0__Action___0__Action_SerializationException__" data-uid="Microsoft.Psi.Data.IStreamReader.OpenStream``1(System.String,Action{``0,Microsoft.Psi.Envelope},Func{``0},Action{``0},Action{SerializationException})">OpenStream&lt;T&gt;(String, Action&lt;T, Envelope&gt;, Func&lt;T&gt;, Action&lt;T&gt;, Action&lt;SerializationException&gt;)</h4>
  <div class="markdown level1 summary"><p>Opens the specified stream for reading.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IStreamMetadata OpenStream&lt;T&gt;(string name, Action&lt;T, Envelope&gt; target, Func&lt;T&gt; allocator = null, Action&lt;T&gt; deallocator = null, Action&lt;SerializationException&gt; errorHandler = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">name</span></td>
        <td><p>The name of the stream to open.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;T, <a class="xref" href="Microsoft.Psi.Envelope.html">Envelope</a>&gt;</td>
        <td><span class="parametername">target</span></td>
        <td><p>The function to call for every message in this stream.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Func</span>&lt;T&gt;</td>
        <td><span class="parametername">allocator</span></td>
        <td><p>An optional allocator to use when deserializing messages.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;T&gt;</td>
        <td><span class="parametername">deallocator</span></td>
        <td><p>An optional deallocator to use after the messages have been sent to the consumers.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;<span class="xref">SerializationException</span>&gt;</td>
        <td><span class="parametername">errorHandler</span></td>
        <td><p>The function to call if an error occurs when reading the stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.IStreamMetadata.html">IStreamMetadata</a></td>
        <td><p>The metadata describing the opened stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">T</span></td>
        <td><p>The type of messages in stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Psi_Data_IStreamReader_OpenStream__1_System_String_Action___0_Microsoft_Psi_Envelope__Func___0__Action___0__Action_SerializationException___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The target action is called for every message in the stream, as a traversal of
the store is performed by calling the <a class="xref" href="Microsoft.Psi.Data.IStreamReader.html#Microsoft_Psi_Data_IStreamReader_MoveNext_Microsoft_Psi_Envelope__">MoveNext(out Envelope)</a> or
<a class="xref" href="Microsoft.Psi.Data.IStreamReader.html#Microsoft_Psi_Data_IStreamReader_ReadAll_Microsoft_Psi_ReplayDescriptor_CancellationToken_">ReadAll(ReplayDescriptor, CancellationToken)</a> methods. The target
action should not hold on to a reference or a shallow copy of the message past
the action's return point, as the stream reader infrastructure might dispose
of it. If the target needs to hold on to the message, it must create a deep
clone of it.</p>
</div>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L114">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_OpenStreamIndex_" data-uid="Microsoft.Psi.Data.IStreamReader.OpenStreamIndex*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_OpenStreamIndex__1_System_String_Action_Func_Microsoft_Psi_Data_IStreamReader___0__Microsoft_Psi_Envelope__Func___0__" data-uid="Microsoft.Psi.Data.IStreamReader.OpenStreamIndex``1(System.String,Action{Func{Microsoft.Psi.Data.IStreamReader,``0},Microsoft.Psi.Envelope},Func{``0})">OpenStreamIndex&lt;T&gt;(String, Action&lt;Func&lt;IStreamReader, T&gt;, Envelope&gt;, Func&lt;T&gt;)</h4>
  <div class="markdown level1 summary"><p>Opens the specified stream for reading, in index form; providing only index entries to the target delegate.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IStreamMetadata OpenStreamIndex&lt;T&gt;(string name, Action&lt;Func&lt;IStreamReader, T&gt;, Envelope&gt; target, Func&lt;T&gt; allocator = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">name</span></td>
        <td><p>The name of the stream to open.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;<span class="xref">Func</span>&lt;<a class="xref" href="Microsoft.Psi.Data.IStreamReader.html">IStreamReader</a>, T&gt;, <a class="xref" href="Microsoft.Psi.Envelope.html">Envelope</a>&gt;</td>
        <td><span class="parametername">target</span></td>
        <td><p>The function to call with a thunk which may be called to read, and envelope for every message in this stream.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Func</span>&lt;T&gt;</td>
        <td><span class="parametername">allocator</span></td>
        <td><p>An optional allocator to use when constructing messages.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.IStreamMetadata.html">IStreamMetadata</a></td>
        <td><p>The metadata describing the opened stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">T</span></td>
        <td><p>The type of messages in stream.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Microsoft_Psi_Data_IStreamReader_OpenStreamIndex__1_System_String_Action_Func_Microsoft_Psi_Data_IStreamReader___0__Microsoft_Psi_Envelope__Func___0___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The target action is saved and later called as the data is read when
<a class="xref" href="Microsoft.Psi.Data.IStreamReader.html#Microsoft_Psi_Data_IStreamReader_MoveNext_Microsoft_Psi_Envelope__">MoveNext(out Envelope)</a> or <a class="xref" href="Microsoft.Psi.Data.IStreamReader.html#Microsoft_Psi_Data_IStreamReader_ReadAll_Microsoft_Psi_ReplayDescriptor_CancellationToken_">ReadAll(ReplayDescriptor, CancellationToken)</a>
are called. The target action is given the message Envelope and a Func which
should be used to retrieve the message data. This Func may be held past the
return point of the target action, as a kind of &quot;index-thunk&quot; that can be later
called to retrieve the data. This function may be called, given the current
IStreamReader or a new instance against the same store. Internally, the Func
is likely a closure over information needed for retrieval (byte position, file
extent, etc.) but these implementation details remain opaque to users of the
reader (different implementors of the <a class="xref" href="Microsoft.Psi.Data.IStreamReader.html">IStreamReader</a> interface
may choose different mechanisms for implementing this functionality.)</p>
<p>In contrast to the <a class="xref" href="Microsoft.Psi.Data.IStreamReader.html#Microsoft_Psi_Data_IStreamReader_OpenStream__1_System_String_Action___0_Microsoft_Psi_Envelope__Func___0__Action___0__Action_SerializationException__">OpenStream&lt;T&gt;(String, Action&lt;T, Envelope&gt;, Func&lt;T&gt;, Action&lt;T&gt;, Action&lt;SerializationException&gt;)</a>
approach for reading stream messages, when using this method, not deallocator
is provided. The reposibility for deallocating or disposing the messages
returned by the index function rests with the caller of that function.</p>
</div>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L163">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_ReadAll_" data-uid="Microsoft.Psi.Data.IStreamReader.ReadAll*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_ReadAll_Microsoft_Psi_ReplayDescriptor_CancellationToken_" data-uid="Microsoft.Psi.Data.IStreamReader.ReadAll(Microsoft.Psi.ReplayDescriptor,CancellationToken)">ReadAll(ReplayDescriptor, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Reads all the messages within the time interval specified by the replay descriptor and calls the registered delegates.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void ReadAll(ReplayDescriptor descriptor, CancellationToken cancelationToken = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.ReplayDescriptor.html">ReplayDescriptor</a></td>
        <td><span class="parametername">descriptor</span></td>
        <td><p>The replay descriptor providing the interval to read.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">CancellationToken</span></td>
        <td><span class="parametername">cancelationToken</span></td>
        <td><p>A token that can be used to cancel the operation.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L121">View Source</a>
  </span>
  <a id="Microsoft_Psi_Data_IStreamReader_Seek_" data-uid="Microsoft.Psi.Data.IStreamReader.Seek*"></a>
  <h4 id="Microsoft_Psi_Data_IStreamReader_Seek_Microsoft_Psi_TimeInterval_System_Boolean_" data-uid="Microsoft.Psi.Data.IStreamReader.Seek(Microsoft.Psi.TimeInterval,System.Boolean)">Seek(TimeInterval, Boolean)</h4>
  <div class="markdown level1 summary"><p>Moves the reader to the start of the specified interval and restricts the read to messages within the interval.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void Seek(TimeInterval interval, bool useOriginatingTime = false)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.TimeInterval.html">TimeInterval</a></td>
        <td><span class="parametername">interval</span></td>
        <td><p>The interval for reading data.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">useOriginatingTime</span></td>
        <td><p>Indicates whether the interval refers to originating times or creation times.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0___0__">Serializer.DeepClone&lt;T&gt;(T, ref T)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_Microsoft_Psi_IRecyclingPool___0__">Serializer.DeepClone&lt;T&gt;(T, IRecyclingPool&lt;T&gt;)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_">Serializer.DeepClone&lt;T&gt;(T)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Data/IStreamReader.cs/#L19" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://go.microsoft.com/fwlink/?LinkId=521839">Privacy & Cookies</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=246338">Terms Of Use</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=506942">Trademarks</a> | © Microsoft<br>Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
