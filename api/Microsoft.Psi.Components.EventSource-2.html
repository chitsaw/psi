<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class EventSource&lt;TEventHandler, TOut&gt;
   | Platform for Situated Intelligence </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class EventSource&lt;TEventHandler, TOut&gt;
   | Platform for Situated Intelligence ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../images/Psi.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="https://github.com/microsoft/psi">
                <img id="logo" class="svg" src="../images/Psi.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Microsoft.Psi.Components.EventSource`2">
  
  
  <h1 id="Microsoft_Psi_Components_EventSource_2" data-uid="Microsoft.Psi.Components.EventSource`2" class="text-break">Class EventSource&lt;TEventHandler, TOut&gt;
  </h1>
  <div class="markdown level0 summary"><p>A generator component that publishes messages of a specified type whenever an event is raised.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">EventSource&lt;TEventHandler, TOut&gt;</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Microsoft.Psi.IProducer-1.html">IProducer</a>&lt;TOut&gt;</div>
    <div><a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Microsoft.Psi.Components.html">Microsoft.Psi.Components</a></h6>
  <h6><strong>Assembly</strong>: Microsoft.Psi.dll</h6>
  <h5 id="Microsoft_Psi_Components_EventSource_2_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class EventSource&lt;TEventHandler, TOut&gt; : object, IProducer&lt;TOut&gt;, ISourceComponent</code></pre>
  </div>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TEventHandler</span></td>
        <td><p>The event handler delegate type.</p>
</td>
      </tr>
      <tr>
        <td><span class="parametername">TOut</span></td>
        <td><p>The output stream type.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="constructors">Constructors
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L38">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_EventSource_2__ctor_" data-uid="Microsoft.Psi.Components.EventSource`2.#ctor*"></a>
  <h4 id="Microsoft_Psi_Components_EventSource_2__ctor_Microsoft_Psi_Pipeline_Action__0__Action__0__Func_Action__1___0__System_String_" data-uid="Microsoft.Psi.Components.EventSource`2.#ctor(Microsoft.Psi.Pipeline,Action{`0},Action{`0},Func{Action{`1},`0},System.String)">EventSource(Pipeline, Action&lt;TEventHandler&gt;, Action&lt;TEventHandler&gt;, Func&lt;Action&lt;TOut&gt;, TEventHandler&gt;, String)</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Microsoft.Psi.Components.EventSource-2.html">EventSource&lt;TEventHandler, TOut&gt;</a> class.
The component will subscribe to an event on startup via the <code data-dev-comment-type="paramref" class="paramref">subscribe</code>
delegate, using the supplied <code data-dev-comment-type="paramref" class="paramref">converter</code> function to transform the
<span class="xref">Microsoft.Psi.Components.EventSource`2.Post(`1)</span> action delegate into an event handler compatible with the external
event that is being subscribed to.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public EventSource(Pipeline pipeline, Action&lt;TEventHandler&gt; subscribe, Action&lt;TEventHandler&gt; unsubscribe, Func&lt;Action&lt;TOut&gt;, TEventHandler&gt; converter, string name = &quot;EventSource&quot;)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.Pipeline.html">Pipeline</a></td>
        <td><span class="parametername">pipeline</span></td>
        <td><p>The pipeline to add the component to.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;TEventHandler&gt;</td>
        <td><span class="parametername">subscribe</span></td>
        <td><p>The delegate that subscribes to the external event.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span>&lt;TEventHandler&gt;</td>
        <td><span class="parametername">unsubscribe</span></td>
        <td><p>The delegate that unsubscribes from the external event.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Func</span>&lt;<span class="xref">Action</span>&lt;TOut&gt;, TEventHandler&gt;</td>
        <td><span class="parametername">converter</span></td>
        <td><p>A function used to convert the <span class="xref">Microsoft.Psi.Components.EventSource`2.Post(`1)</span> action delegate into an event
handler of type <code data-dev-comment-type="typeparamref" class="typeparamref">TEventHandler</code> that will be subscribed to the
external event by the <code data-dev-comment-type="paramref" class="paramref">subscribe</code> delegate.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td><span class="parametername">name</span></td>
        <td><p>An optional name for the component.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L62">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_EventSource_2_Out_" data-uid="Microsoft.Psi.Components.EventSource`2.Out*"></a>
  <h4 id="Microsoft_Psi_Components_EventSource_2_Out" data-uid="Microsoft.Psi.Components.EventSource`2.Out">Out</h4>
  <div class="markdown level1 summary"><p>Gets the stream of output messages.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Emitter&lt;TOut&gt; Out { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Microsoft.Psi.Emitter-1.html">Emitter</a>&lt;TOut&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L65">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_EventSource_2_Start_" data-uid="Microsoft.Psi.Components.EventSource`2.Start*"></a>
  <h4 id="Microsoft_Psi_Components_EventSource_2_Start_Action_DateTime__" data-uid="Microsoft.Psi.Components.EventSource`2.Start(Action{DateTime})">Start(Action&lt;DateTime&gt;)</h4>
  <div class="markdown level1 summary"><p>Called by the pipeline to start the component once all the subscriptions are established.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Start(Action&lt;DateTime&gt; notifyCompletionTime)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Action</span>&lt;<span class="xref">DateTime</span>&gt;</td>
        <td><span class="parametername">notifyCompletionTime</span></td>
        <td><p>Delegate to call to notify the pipeline at what time the component will complete. Finite source components
should invoke this delegate, passing in the time at which the component completes after which it will post
no further messages. If this time is not yet known, the component may store a reference to the
<code data-dev-comment-type="paramref" class="paramref">notifyCompletionTime</code> delegate and call it once the completion time is known. Source
components that do not have the concept of &quot;completion&quot; must invoke <code data-dev-comment-type="paramref" class="paramref">notifyCompletionTime</code>
with a completion time of <see cref="!:DateTime.MaxValue"></see>. Similarly, reactive components that implement
the <a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a> due to the fact that they post messages from outside of a receiver method
should also notify with a completion time of <see cref="!:DateTime.MaxValue"></see>.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L74">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_EventSource_2_Stop_" data-uid="Microsoft.Psi.Components.EventSource`2.Stop*"></a>
  <h4 id="Microsoft_Psi_Components_EventSource_2_Stop_DateTime_Action_" data-uid="Microsoft.Psi.Components.EventSource`2.Stop(DateTime,Action)">Stop(DateTime, Action)</h4>
  <div class="markdown level1 summary"><p>Called by the pipeline when shutting down. The component should stop generating new messages once this
method completes. However, the component might still receive new messages (if it is subscribed to other
components) after this call and is expected to handle them.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Stop(DateTime finalOriginatingTime, Action notifyCompleted)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">DateTime</span></td>
        <td><span class="parametername">finalOriginatingTime</span></td>
        <td><p>The last originating time of any message which may be posted, after which the component should stop
posting non-reactive source messages.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">Action</span></td>
        <td><span class="parametername">notifyCompleted</span></td>
        <td><p>Delegate to call to notify the pipeline that the component has completed posting non-reactive source
messages. This delegate should be called once the component has posted its last non-reactive source
message, but only up to (and possibly including) <code data-dev-comment-type="paramref" class="paramref">finalOriginatingTime</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L81">View Source</a>
  </span>
  <a id="Microsoft_Psi_Components_EventSource_2_ToString_" data-uid="Microsoft.Psi.Components.EventSource`2.ToString*"></a>
  <h4 id="Microsoft_Psi_Components_EventSource_2_ToString" data-uid="Microsoft.Psi.Components.EventSource`2.ToString">ToString()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string ToString()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.string">String</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Microsoft.Psi.IProducer-1.html">IProducer&lt;TOut&gt;</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Components.ISourceComponent.html">ISourceComponent</a>
  </div>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0___0__">Serializer.DeepClone&lt;T&gt;(T, ref T)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_Microsoft_Psi_IRecyclingPool___0__">Serializer.DeepClone&lt;T&gt;(T, IRecyclingPool&lt;T&gt;)</a>
  </div>
  <div>
      <a class="xref" href="Microsoft.Psi.Serializer.html#Microsoft_Psi_Serializer_DeepClone__1___0_">Serializer.DeepClone&lt;T&gt;(T)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/microsoft/psi/blob/master/Sources/Runtime/Microsoft.Psi/Components/EventSource.cs/#L14" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span><a href="https://go.microsoft.com/fwlink/?LinkId=521839">Privacy & Cookies</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=246338">Terms Of Use</a> | <a href="https://go.microsoft.com/fwlink/?LinkId=506942">Trademarks</a> | © Microsoft<br>Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
